{% extends 'index.html' %}

{% block content %}


<!--filter start-->
<div class="filter-sidebar">
    <div class="filter-sidebar-inner">
        <div class="filter-top">
            <div class="top-logo">
                <a href="{% url '' %}"><img src="/static/images/b-logo.png" /></a>
            </div>
            <ul class="nav nav-tabs" role="tablist">
                <li class="nav-item">
                    <a class="nav-link active" data-bs-toggle="tab" href="#home">{{ properties.count }}</a>
                </li>
                <li class="reload">
                    <i class="fas fa-sync"></i>
                </li>
                <li class="nav-item">
                    <a class="nav-link" data-bs-toggle="tab" href="#menu1">{{ properties.count }}</a>
                </li>
            </ul>
        </div>

        <!-- Tab panes -->
        <div class="tab-content">
            <div id="home" class="tab-pane active">
                <div class="accordion" id="myFilter">
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingOne">
                            <button type="button" class="accordion-button collapsed" data-bs-toggle="collapse"
                                data-bs-target="#collapseOne">Filters <span>(0)</span></button>
                        </h2>
                        <div id="collapseOne" class="accordion-collapse collapse" data-bs-parent="#myAccordion">
                            <div class="card-body">
                                <form class="fltr" action="{% url '' %}" method="POST">
                                    {% csrf_token %}
                                    <!--<input type="number" placeholder="Date Added" id="date" name="date">-->
                                    <!--<input type="text" placeholder="Continent" id="continent" name="continent">-->
                                    <input type="text" placeholder="Country" id="cntry" name="country">
                                    <!-- <input type="text" placeholder="City/Town" id="city" name="city"> -->
                                    <select id="status" name="status">
                                        <option value="" id="status">Select Status</option>
                                        <option value="1">Buy</option>
                                        <option value="0">Rent</option>
                                    </select>
                                        <select id="status" name="property_type" >
                                        <option value="">Select type</option>
                                        <option value="Any">Any</option>
                                        <option value="Duplex">Duplex</option>
                                        <option value="Garden">Garden</option>
                                        <option value="Highrise">Highrise</option>
                                        <option value="House">House</option>
                                        <option value="Lowrise">Lowrise</option>
                                        <option value="joint">joint</option>
                                        <option value="Luxury Highrise">Luxury Highrise</option>
                                    </select>
                                    <input type="text" placeholder="Features" id="feture" name="feature">
                                    <input type="text" placeholder="Amenities" id="amenities" name="amenities">
                                    <input type="text" placeholder="Website" id="site" name="weburl">
                                    <button type="submit" value="submit">Submit</button>
                                </form>
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingTwo">
                            <button type="button" class="accordion-button collapsed" data-bs-toggle="collapse"
                                data-bs-target="#collapseTwo">AESTHETICS <span>(0)</span></button>
                        </h2>
                        <div id="collapseTwo" class="accordion-collapse collapse" data-bs-parent="#myAccordion">
                            <div class="card-body">
                                <form class="fltr">
                                    <label>Architectural Detail</label>
                                    <input type="range" id="archit">
                                    <label>Exterior</label>
                                    <input type="range" id="exter">
                                    <label>lnterior</label>
                                    <input type="range" id="lnter">
                                </form>
                            </div>
                        </div>
                    </div>

                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingFour">
                            <button type="button" class="accordion-button collapsed empty" data-bs-toggle="collapse"
                                data-bs-target="#collapseFour">ARCHITECTURAL STYLE</button>
                        </h2>
                    </div>

                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingFive">
                            <button type="button" class="accordion-button collapsed empty" data-bs-toggle="collapse"
                                data-bs-target="#collapseFive">DOOMSDAY</button>
                        </h2>
                    </div>

                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingSix">
                            <button type="button" class="accordion-button collapsed" data-bs-toggle="collapse"
                                data-bs-target="#collapseSix">ECOFRIENDY <span>(0)</span></button>
                        </h2>
                        <div id="collapseSix" class="accordion-collapse collapse" data-bs-parent="#myAccordion">
                            <div class="card-body">
                                <p>Bootstrap is a sleek, intuitive, and powerful front-end framework for faster</p>
                            </div>
                        </div>
                    </div>

                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingSeven">
                            <button type="button" class="accordion-button collapsed empty" data-bs-toggle="collapse"
                                data-bs-target="#collapseSeven">INTERIOR DESIGN</button>
                        </h2>
                    </div>

                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingEight">
                            <button type="button" class="accordion-button collapsed empty" data-bs-toggle="collapse"
                                data-bs-target="#collapseEight">LOCATION</button>
                        </h2>
                    </div>

                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingNine">
                            <button type="button" class="accordion-button collapsed empty" data-bs-toggle="collapse"
                                data-bs-target="#collapseNine">MARKET</button>
                        </h2>
                    </div>

                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingTen">
                            <button type="button" class="accordion-button collapsed" data-bs-toggle="collapse"
                                data-bs-target="#collapseTen">NEARBY <span>(0)</span></button>
                        </h2>
                        <div id="collapseTen" class="accordion-collapse collapse" data-bs-parent="#myAccordion">
                            <div class="card-body">
                                <p>Bootstrap is a sleek, intuitive, and powerful front-end framework for faster</p>
                            </div>
                        </div>
                    </div>

                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingEleven">
                            <button type="button" class="accordion-button collapsed" data-bs-toggle="collapse"
                                data-bs-target="#collapseEleven">SIZE <span>(0)</span></button>
                        </h2>
                        <div id="collapseEleven" class="accordion-collapse collapse" data-bs-parent="#myAccordion">
                            <div class="card-body">
                                <p>Bootstrap is a sleek, intuitive, and powerful front-end framework for faster</p>
                            </div>
                        </div>
                    </div>

                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingTwelve">
                            <button type="button" class="accordion-button collapsed" data-bs-toggle="collapse"
                                data-bs-target="#collapseTwelve">TRANSPORT <span>(0)</span></button>
                        </h2>
                        <div id="collapseTwelve" class="accordion-collapse collapse" data-bs-parent="#myAccordion">
                            <div class="card-body">
                                <p>Bootstrap is a sleek, intuitive, and powerful front-end framework for faster</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="menu1" class="tab-pane fade">
                <div class="accordion" id="myFilter">
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingOne">
                            <button type="button" class="accordion-button collapsed" data-bs-toggle="collapse"
                                data-bs-target="#collapseOne">Filters <span>(0)</span></button>
                        </h2>
                        <div id="collapseOne" class="accordion-collapse collapse" data-bs-parent="#myAccordion">
                            <div class="card-body">
                                <form>
                                    <div class="input-group mb-3">
                                        <select class="custom-select" id="select02">
                                            <option selected>Choose...</option>
                                            <option value="1">One</option>
                                            <option value="2">Two</option>
                                            <option value="3">Three</option>
                                        </select>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>

                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingTwo">
                            <button type="button" class="accordion-button collapsed" data-bs-toggle="collapse"
                                data-bs-target="#collapseTwo">AESTHETICS <span>(0)</span></button>
                        </h2>
                        <div id="collapseTwo" class="accordion-collapse collapse" data-bs-parent="#myAccordion">
                            <div class="card-body">
                                <p>Bootstrap is a sleek, intuitive, and powerful front-end framework for faster</p>
                            </div>
                        </div>
                    </div>

                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingFour">
                            <button type="button" class="accordion-button collapsed empty" data-bs-toggle="collapse"
                                data-bs-target="#collapseFour">ARCHITECTURAL STYLE</button>
                        </h2>
                    </div>

                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingFive">
                            <button type="button" class="accordion-button collapsed empty" data-bs-toggle="collapse"
                                data-bs-target="#collapseFive">DOOMSDAY</button>
                        </h2>
                    </div>

                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingSix">
                            <button type="button" class="accordion-button collapsed" data-bs-toggle="collapse"
                                data-bs-target="#collapseSix">ECOFRIENDY <span>(0)</span></button>
                        </h2>
                        <div id="collapseSix" class="accordion-collapse collapse" data-bs-parent="#myAccordion">
                            <div class="card-body">
                                <p>Bootstrap is a sleek, intuitive, and powerful front-end framework for faster</p>
                            </div>
                        </div>
                    </div>

                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingSeven">
                            <button type="button" class="accordion-button collapsed empty" data-bs-toggle="collapse"
                                data-bs-target="#collapseSeven">INTERIOR DESIGN</button>
                        </h2>
                    </div>

                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingEight">
                            <button type="button" class="accordion-button collapsed empty" data-bs-toggle="collapse"
                                data-bs-target="#collapseEight">LOCATION</button>
                        </h2>
                    </div>

                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingNine">
                            <button type="button" class="accordion-button collapsed empty" data-bs-toggle="collapse"
                                data-bs-target="#collapseNine">MARKET</button>
                        </h2>
                    </div>

                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingTen">
                            <button type="button" class="accordion-button collapsed" data-bs-toggle="collapse"
                                data-bs-target="#collapseTen">NEARBY <span>(0)</span></button>
                        </h2>
                        <div id="collapseTen" class="accordion-collapse collapse" data-bs-parent="#myAccordion">
                            <div class="card-body">
                                <p>Bootstrap is a sleek, intuitive, and powerful front-end framework for faster</p>
                            </div>
                        </div>
                    </div>

                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingEleven">
                            <button type="button" class="accordion-button collapsed" data-bs-toggle="collapse"
                                data-bs-target="#collapseEleven">SIZE <span>(0)</span></button>
                        </h2>
                        <div id="collapseEleven" class="accordion-collapse collapse" data-bs-parent="#myAccordion">
                            <div class="card-body">
                                <p>Bootstrap is a sleek, intuitive, and powerful front-end framework for faster</p>
                            </div>
                        </div>
                    </div>

                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingTwelve">
                            <button type="button" class="accordion-button collapsed" data-bs-toggle="collapse"
                                data-bs-target="#collapseTwelve">TRANSPORT <span>(0)</span></button>
                        </h2>
                        <div id="collapseTwelve" class="accordion-collapse collapse" data-bs-parent="#myAccordion">
                            <div class="card-body">
                                <p>Bootstrap is a sleek, intuitive, and powerful front-end framework for faster</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <a class="filter-btn"><i class="fas fa-caret-left"></i> </a>
</div>
<!--filter end-->

<div class="content resident">
    <div class="category-main">
        {% if filtered_data %}
        {% for sts in filtered_data %}
        <div class="category-box act"
            style="background-image: url({{ request.scheme }}://{{ request.get_host }}/media/{{ sts.image }})">
            <a href="{{ sts.weburl }}"><span>{{ sts.title }}</span></a>
        </div>
        {% endfor %}
        {% else %}
        <br><br><br><br><br><br><br><br><br><br>
        <br><br><br><br><br><br><br><br><br><br>
        <h1 align=" center">No data found.</h1>
        {% endif %}
        <!--  <a href="{{ sts.weburl }}"> -->
    </div>
</div>
<script>
    $(document).ready(function () {
        // Get the search input element
        var searchInput = $('#search-input');

        // Get the initial content of the results container
        var initialContent = $('#results-container').html();

        // Handle input change event
        searchInput.on('input', function () {
            var searchTerm = $(this).val().trim().toLowerCase();

            // Restore the initial content and hide results container if the search term is empty
            if (searchTerm === '') {
                $('#results-container').html(initialContent).hide();
                return;
            }

            // Filter and display results
            var filteredProperties = properties.filter(function (sts) {
                return sts.title.toLowerCase().indexOf(searchTerm) !== -1;
            });

            var resultsHtml = '';
            filteredProperties.forEach(function (sts) {
                resultsHtml += '<div class="category-box act" style="background-image: url(' + sts.image + ')">';
                resultsHtml += '<a href="' + sts.weburl + '"><span>' + sts.title + '</span></a>';
                resultsHtml += '</div>';
            });

            $('#results-container').html(resultsHtml).show();
        });
    });

</script>

{% endblock %}